import "reflect-metadata"
import { DataSource } from "typeorm"

<%_types.filter(type => type.type === 'ObjectTypeDefinition').forEach(type => {%>import { <%= type.typeName %> } from "./entities/<%= type.typeName %>"
<%_})%>

export const AppDataSource = new DataSource({
  type: "postgres",
  host: "localhost",
  port: 5432,
  username: "postgres",
  password: "postgres",
  database: "postgres",
  synchronize: true,
  logging: true,
  entities: [<%_types.filter(type => type.type === 'ObjectTypeDefinition').forEach(type => {%><%= type.typeName %>, <%_})%> ],
  subscribers: [],
  migrations: [],
})